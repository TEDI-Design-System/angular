<label 
  tedi-label 
  [for]="id()"
  [required]="required()" 
  [size]="size()"
>
  {{ label() }}
</label>
<div
  [class]="{
    'tedi-number-field': true,
    'tedi-number-field--invalid': isInvalid(),
    'tedi-number-field--disabled': isDisabled(),
    'tedi-number-field--small': size() === 'small',
  }"
>
  <button
    tedi-button
    type="button"
    variant="secondary"
    class="tedi-number-field__button tedi-number-field__button--decrement"
    [disabled]="decrementDisabled()"
    (click)="handleButtonClick('decrement')"
  >
    <tedi-icon name="remove" [size]="18" [label]="'Decrement by ' + step()" />
  </button>
  <div
    [class]="{
      'tedi-number-field__input-wrapper': true,
      'tedi-number-field__input-wrapper--with-suffix': suffix(),
    }"
  >
    <input
      #inputElement
      [id]="id()"
      type="number"
      inputmode="numeric"
      class="tedi-number-field__input"
      [value]="displayValue()"
      [disabled]="isDisabled()"
      [required]="required()"
      [attr.min]="min()"
      [attr.max]="max()"
      [attr.step]="step()"
      [attr.aria-invalid]="isInvalid()"
      (input)="handleInputChange($event)"
    />
    @if (suffix()) {
      <tedi-text
        element="span"
        modifiers="small"
        color="tertiary"
        class="tedi-number-field__suffix"
      >
        {{ suffix() }}
      </tedi-text>
    }
  </div>
  <button
    tedi-button
    type="button"
    variant="secondary"
    class="tedi-number-field__button tedi-number-field__button--increment"
    [disabled]="incrementDisabled()"
    (click)="handleButtonClick('increment')"
  >
    <tedi-icon name="add" [size]="18" [label]="'Increment by ' + step()" />
  </button>
</div>
@if (feedbackText(); as feedback) {
  <tedi-feedback-text
    [text]="feedback.text"
    [type]="feedback.type"
    [position]="feedback.position"
  />
}